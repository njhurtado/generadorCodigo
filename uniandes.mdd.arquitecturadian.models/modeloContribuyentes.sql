/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 14.0 		*/
/*  Created On : 02-abr.-2019 4:34:38 p.m. 				*/
/*  DBMS       : Oracle 						*/
/* ---------------------------------------------------- */

/* Create Tables */

CREATE TABLE  "CONTRIBUYENTE"
(
	"IDE_CONTRIBUYENTE" NUMBER(8) NOT NULL,
	"NOM_PRIMER_NOMBRE" VARCHAR2(64),
	"NOM_OTROS_NOMBRES" VARCHAR2(64),
	"NOM_PRIMER_APELLIDO" VARCHAR2(64),
	"NOM_SEGUNDO_APELLIDO" VARCHAR2(64),
	"NOM_RAZON_SOCIAL" VARCHAR2(512),
	"IDE_TIPO_DOCUMENTO" NUMBER(8) NOT NULL,
	"NUM_IDENTIDAD" VARCHAR2(50),
	"NUM_NIT" NUMBER(14),
	"IDE_USUARIO_CAMBIO" NUMBER(14) NOT NULL,
	"FEC_CAMBIO" TIMESTAMP(6) NOT NULL,
	"NIV_LECTURA" NUMBER(1) NOT NULL,
	"NIV_ESCRITURA" NUMBER(1) NOT NULL,
	"IDE_UUID" CHAR(32) NOT NULL
)
;

CREATE TABLE  "CONTRIBUYENTE_DIRECCION"
(
	"IDE_CONTRIBUYENTE" NUMBER(10) NOT NULL,
	"IDE_DIRECCION" NUMBER(10) NOT NULL,
	"IDE_USUARIO_CAMBIO" NUMBER(10) NOT NULL,
	"FEC_CAMBIO" TIMESTAMP(6) NOT NULL,
	"NIV_ESCRITURA" NUMBER(1) NOT NULL,
	"NIV_LECTURA" NUMBER(1) NOT NULL,
	"IDE_UUID" CHAR(50) NOT NULL
)
;

CREATE TABLE  "DIRECCION"
(
	"IDE_DIRECCION" NUMBER(10) NOT NULL,
	"IDE_PAIS" NUMBER(8) NOT NULL,
	"IDE_DEPARTAMENTO" NUMBER(8) NOT NULL,
	"IDE_MUNICIPIO" NUMBER(8) NOT NULL,
	"VAL_DIRECCION" VARCHAR2(256) NOT NULL,
	"IDE_USUARIO_CAMBIO" NUMBER(10) NOT NULL,
	"FEC_CAMBIO" TIMESTAMP(6) NOT NULL,
	"NIV_ESCRITURA" NUMBER(1) NOT NULL,
	"NIV_LECTURA" NUMBER(1) NOT NULL,
	"IDE_UUID" CHAR(32) NOT NULL
)
;

CREATE TABLE  "LUGAR"
(
	"IDE_LUGAR" NUMBER(8) NOT NULL,
	"IDE_TIPO_LUGAR" NUMBER(8) NOT NULL,
	"IDE_LUGAR_PADRE" NUMBER(8),
	"NOM_TIPO_LUGAR" VARCHAR2(256) NOT NULL,
	"IDE_USUARIO_CAMBIO" NUMBER(10) NOT NULL,
	"FEC_CAMBIO" TIMESTAMP(6) NOT NULL,
	"NIV_ESCRITURA" NUMBER(1) NOT NULL,
	"NIV_LECTURA" NUMBER(1) NOT NULL,
	"IDE_UUID" CHAR(32) NOT NULL
)
;

CREATE TABLE  "TIPO_DOCUMENTO"
(
	"IDE_TIPO_DOCUMENTO" NUMBER(8) NOT NULL,
	"NOM_TIPO_DOCUMENTO" VARCHAR2(64) NOT NULL,
	"IDE_USUARIO_CAMBIO" NUMBER(14) NOT NULL,
	"FEC_CAMBIO" TIMESTAMP(6) NOT NULL,
	"NIV_LECTURA" NUMBER(1) NOT NULL,
	"NIV_ESCRITURA" NUMBER(1) NOT NULL,
	"IDE_UUID" CHAR(32) NOT NULL
)
;

CREATE TABLE  "TIPO_LUGAR"
(
	"IDE_TIPO_LUGAR" NUMBER(8) NOT NULL,
	"NOM_TIPO_LUGAR" VARCHAR2(256) NOT NULL,
	"IDE_USUARIO_CAMBIO" NUMBER(10) NOT NULL,
	"FEC_CAMBIO" TIMESTAMP(6) NOT NULL,
	"NIV_ESCRITURA" NUMBER(1) NOT NULL,
	"NIV_LECTURA" NUMBER(1) NOT NULL,
	"IDE_UUID" CHAR(32) NOT NULL
)
;

/* Create Primary Keys, Indexes, Uniques, Checks, Triggers */

ALTER TABLE  "CONTRIBUYENTE" 
 ADD CONSTRAINT "PK_CONTRIBUYENTE"
	PRIMARY KEY ("IDE_CONTRIBUYENTE")
;

CREATE INDEX "CONT_IDX01"   
 ON  "CONTRIBUYENTE" ("IDE_TIPO_DOCUMENTO") 
;

ALTER TABLE  "CONTRIBUYENTE_DIRECCION" 
 ADD CONSTRAINT "PK_CONTRIBUYENT_01"
	PRIMARY KEY ("IDE_CONTRIBUYENTE","IDE_DIRECCION")
;

CREATE INDEX "IXFK_CONTRIBUYENT_CONTRIB01"   
 ON  "CONTRIBUYENTE_DIRECCION" ("IDE_CONTRIBUYENTE") 
;

CREATE INDEX "IXFK_CONTRIBUYENTE__DIREC01"   
 ON  "CONTRIBUYENTE_DIRECCION" ("IDE_DIRECCION") 
;

ALTER TABLE  "DIRECCION" 
 ADD CONSTRAINT "PK_DIRECCION"
	PRIMARY KEY ("IDE_DIRECCION")
;

CREATE INDEX "IXFK_DIRECCION_LUG02"   
 ON  "DIRECCION" ("IDE_MUNICIPIO") 
;

CREATE INDEX "IXFK_DIRECCION_LUGAR"   
 ON  "DIRECCION" ("IDE_DEPARTAMENTO") 
;

ALTER TABLE  "LUGAR" 
 ADD CONSTRAINT "PK_LUGAR"
	PRIMARY KEY ("IDE_LUGAR")
;

CREATE INDEX "IXFK_LUGAR_DIRECCION"   
 ON  "LUGAR" ("IDE_LUGAR") 
;

CREATE INDEX "IXFK_LUGAR_LUGAR"   
 ON  "LUGAR" ("IDE_LUGAR") 
;

CREATE INDEX "IXFK_LUGAR_TIPO_LUGAR"   
 ON  "LUGAR" ("IDE_TIPO_LUGAR") 
;

ALTER TABLE  "TIPO_DOCUMENTO" 
 ADD CONSTRAINT "PK_TIPO_DOCUMEN_01"
	PRIMARY KEY ("IDE_TIPO_DOCUMENTO")
;

ALTER TABLE  "TIPO_LUGAR" 
 ADD CONSTRAINT "PK_Table1"
	PRIMARY KEY ("IDE_TIPO_LUGAR")
;

/* Create Foreign Key Constraints */

ALTER TABLE  "CONTRIBUYENTE" 
 ADD CONSTRAINT "CONT_TIDO_FK"
	FOREIGN KEY ("IDE_TIPO_DOCUMENTO") REFERENCES  "TIPO_DOCUMENTO" ("IDE_TIPO_DOCUMENTO")
;

ALTER TABLE  "CONTRIBUYENTE_DIRECCION" 
 ADD CONSTRAINT "FK_CONTRIBUYENT_CONTRIBUYEN_01"
	FOREIGN KEY ("IDE_CONTRIBUYENTE") REFERENCES  "CONTRIBUYENTE" ("IDE_CONTRIBUYENTE")
;

ALTER TABLE  "CONTRIBUYENTE_DIRECCION" 
 ADD CONSTRAINT "FK_CONTRIBUYENTE__DIRECCION_01"
	FOREIGN KEY ("IDE_DIRECCION") REFERENCES  "DIRECCION" ("IDE_DIRECCION")
;

ALTER TABLE  "DIRECCION" 
 ADD CONSTRAINT "FK_LUG_MUN"
	FOREIGN KEY ("IDE_MUNICIPIO") REFERENCES  "LUGAR" ("IDE_LUGAR")
;

ALTER TABLE  "DIRECCION" 
 ADD CONSTRAINT "FK_LUGAR_DEPTO"
	FOREIGN KEY ("IDE_DEPARTAMENTO") REFERENCES  "LUGAR" ("IDE_LUGAR")
;

ALTER TABLE  "LUGAR" 
 ADD CONSTRAINT "FK_LUG_PADRE"
	FOREIGN KEY ("IDE_LUGAR") REFERENCES  "LUGAR" ("IDE_LUGAR")
;

ALTER TABLE  "LUGAR" 
 ADD CONSTRAINT "FK_LUGAR_TIPO_LUGAR"
	FOREIGN KEY ("IDE_TIPO_LUGAR") REFERENCES  "TIPO_LUGAR" ("IDE_TIPO_LUGAR")
;
